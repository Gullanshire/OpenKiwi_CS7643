

<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Systems &#8212; openkiwi 2.0.0 documentation</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/all.min.css" integrity="sha384-KA6wR/X5RY4zFAHpv/CnoG2UW1uogYfdnP67Uv7eULvTveboZJg0qUpmJZb5VqzN" crossorigin="anonymous">
    <link href="../_static/css/index.css" rel="stylesheet">
    <link rel="stylesheet" href="../_static/basic.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../_static/graphviz.css" />
    <script id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/language_data.js"></script>
    <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="shortcut icon" href="../_static/openkiwi-logo-icon.ico"/>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="API Reference" href="../autoapi/index.html" />
    <link rel="prev" title="Evaluation configuration" href="../configuration/evaluate.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="docsearch:language" content="en">
  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="80">
    
    <nav class="navbar navbar-light navbar-expand-lg bg-light fixed-top bd-navbar" id="navbar-main">
<div class="container-xl">

    
    <a class="navbar-brand" href="../index.html">
      <img src="../_static/openkiwi-logo-horizontal.svg" class="logo" alt="logo">
    </a>
    
    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-menu" aria-controls="navbar-menu" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar-menu" class="col-lg-9 collapse navbar-collapse">
      <ul id="navbar-main-elements" class="navbar-nav mr-auto">
        
        
        <li class="nav-item ">
            <a class="nav-link" href="../installation.html">Installation</a>
        </li>
        
        <li class="nav-item ">
            <a class="nav-link" href="../usage.html">Usage</a>
        </li>
        
        <li class="nav-item ">
            <a class="nav-link" href="../configuration/index.html">Configuration</a>
        </li>
        
        <li class="nav-item active">
            <a class="nav-link" href="">Systems</a>
        </li>
        
        <li class="nav-item ">
            <a class="nav-link" href="../autoapi/index.html">API Reference</a>
        </li>
        
        
      </ul>


      

      <ul class="navbar-nav">
        
        
      </ul>
    </div>
</div>
    </nav>
    

    <div class="container-xl">
      <div class="row">
          
          <div class="col-12 col-md-3 bd-sidebar">

<form class="bd-search d-flex align-items-center" action="../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search the docs ..." aria-label="Search the docs ..." autocomplete="off" >
</form>


<nav class="bd-links" id="bd-docs-nav" aria-label="Main navigation">

  <div class="bd-toc-item active">
  

  <ul class="nav bd-sidenav">
      
      
      
      
      
      
      
      
        
      
      
      
      
    </ul>

</nav>
          </div>
          

          
          <div class="d-none d-xl-block col-xl-2 bd-toc">
              
<div class="tocsection onthispage pt-5 pb-3">
    <i class="fas fa-list"></i> On this page
</div>

<nav id="bd-toc-nav">
    <ul class="nav section-nav flex-column">
    
        <li class="nav-item toc-entry toc-h2">
            <a href="#qe-kiwi-systems-qe-system" class="nav-link">QE — kiwi.systems.qe_system</a>
        </li>
    
        <li class="nav-item toc-entry toc-h2">
            <a href="#tlm-kiwi-systems-tlm-system" class="nav-link">TLM — kiwi.systems.tlm_system</a>
        </li>
    
    </ul>
</nav>


              
          </div>
          

          
          <main class="col-12 col-md-9 col-xl-7 py-md-5 pl-md-5 pr-md-4 bd-content" role="main">
              
              <div>
                
  <div class="section" id="systems">
<h1>Systems<a class="headerlink" href="#systems" title="Permalink to this headline">¶</a></h1>
<p>There are two types of systems: <strong>QE</strong> and <strong>TLM</strong>. The first is the regular one used
for Quality Estimation. The second, which stands for <em>Translation Language Model</em>, is
used for pre-training the <em>encoder</em> component of a QE system.</p>
<p>All systems, regardless of them being <strong>QE</strong> or <strong>TLM</strong> systems are constructed on top
of PytorchLightning’s (PTL) <cite>LightningModule</cite> class. This means they respect a certain design
philosophy that can be consulted in PTL’s <a class="reference external" href="https://pytorch-lightning.readthedocs.io/en/latest/lightning_module.html">documentation</a>.</p>
<p>Furthermore, all of our QE systems share a similar architecture. They are composed of</p>
<ul class="simple">
<li><p>Encoder</p></li>
<li><p>Decoder</p></li>
<li><p>Output</p></li>
<li><p>(Optionally) TLM Output</p></li>
</ul>
<p>TLM systems on the other hand are only composed of the Encoder + TLM Output and their
goal is to pre-train the encoder so it can be plugged into a QE system.</p>
<p>The systems are divided into the 3 blocks that have the major responsabilities in both
word and sentence level QE tasks:</p>
<p>Encoder: Embedding and creating features to be used for downstream tasks. i.e. Predictor,
BERT, etc</p>
<p>Decoder: Responsible for learning feature transformations better suited for the
downstream task. i.e. MLP, LSTM, etc</p>
<p>Output: Simple feedforwards that take decoder features and transform them into the
prediction required by the downstream task. Something in the same line as the common
“classification heads” being used with transformers.</p>
<p>TLM Output: A simple output layer that trains for the specific TLM objective. It can be
useful to continue finetuning the predictor during training of the complete QE system.</p>
<div class="section" id="qe-kiwi-systems-qe-system">
<h2>QE — <a class="reference internal" href="../autoapi/kiwi/systems/qe_system/index.html#module-kiwi.systems.qe_system" title="kiwi.systems.qe_system"><code class="xref py py-mod docutils literal notranslate"><span class="pre">kiwi.systems.qe_system</span></code></a><a class="headerlink" href="#qe-kiwi-systems-qe-system" title="Permalink to this headline">¶</a></h2>
<p>All QE systems inherit from <a class="reference internal" href="../autoapi/kiwi/systems/qe_system/index.html#kiwi.systems.qe_system.QESystem" title="kiwi.systems.qe_system.QESystem"><code class="xref py py-class docutils literal notranslate"><span class="pre">kiwi.systems.qe_system.QESystem</span></code></a>.</p>
<p>Use <code class="docutils literal notranslate"><span class="pre">kiwi</span> <span class="pre">train</span></code> to train these systems.</p>
<p>Currently available are:</p>
<table class="table">
<colgroup>
<col style="width: 100%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="../autoapi/kiwi/systems/nuqe/index.html#kiwi.systems.nuqe.NuQE" title="kiwi.systems.nuqe.NuQE"><code class="xref py py-class docutils literal notranslate"><span class="pre">kiwi.systems.nuqe.NuQE</span></code></a></p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="../autoapi/kiwi/systems/predictor_estimator/index.html#kiwi.systems.predictor_estimator.PredictorEstimator" title="kiwi.systems.predictor_estimator.PredictorEstimator"><code class="xref py py-class docutils literal notranslate"><span class="pre">kiwi.systems.predictor_estimator.PredictorEstimator</span></code></a></p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="../autoapi/kiwi/systems/bert/index.html#kiwi.systems.bert.Bert" title="kiwi.systems.bert.Bert"><code class="xref py py-class docutils literal notranslate"><span class="pre">kiwi.systems.bert.Bert</span></code></a></p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="../autoapi/kiwi/systems/xlm/index.html#kiwi.systems.xlm.XLM" title="kiwi.systems.xlm.XLM"><code class="xref py py-class docutils literal notranslate"><span class="pre">kiwi.systems.xlm.XLM</span></code></a></p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="../autoapi/kiwi/systems/xlmroberta/index.html#kiwi.systems.xlmroberta.XLMRoberta" title="kiwi.systems.xlmroberta.XLMRoberta"><code class="xref py py-class docutils literal notranslate"><span class="pre">kiwi.systems.xlmroberta.XLMRoberta</span></code></a></p></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="tlm-kiwi-systems-tlm-system">
<h2>TLM — <a class="reference internal" href="../autoapi/kiwi/systems/tlm_system/index.html#module-kiwi.systems.tlm_system" title="kiwi.systems.tlm_system"><code class="xref py py-mod docutils literal notranslate"><span class="pre">kiwi.systems.tlm_system</span></code></a><a class="headerlink" href="#tlm-kiwi-systems-tlm-system" title="Permalink to this headline">¶</a></h2>
<p>All TLM systems inherit from <a class="reference internal" href="../autoapi/kiwi/systems/tlm_system/index.html#kiwi.systems.tlm_system.TLMSystem" title="kiwi.systems.tlm_system.TLMSystem"><code class="xref py py-class docutils literal notranslate"><span class="pre">kiwi.systems.tlm_system.TLMSystem</span></code></a>.</p>
<p>Use <code class="docutils literal notranslate"><span class="pre">kiwi</span> <span class="pre">pretrain</span></code> to train these systems. These systems can then be used as the
encoder part in QE systems by using the <cite>load_encoder</cite> flag.</p>
<p>Currently available are:</p>
<table class="table">
<colgroup>
<col style="width: 100%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="../autoapi/kiwi/systems/predictor/index.html#kiwi.systems.predictor.Predictor" title="kiwi.systems.predictor.Predictor"><code class="xref py py-class docutils literal notranslate"><span class="pre">kiwi.systems.predictor.Predictor</span></code></a></p></td>
</tr>
</tbody>
</table>
</div>
</div>


              </div>
              
              
              <div class='prev-next-bottom'>
                
    <a class='left-prev' id="prev-link" href="../configuration/evaluate.html" title="previous page">Evaluation configuration</a>
    <a class='right-next' id="next-link" href="../autoapi/index.html" title="next page">API Reference</a>

              </div>
              
          </main>
          

      </div>
    </div>

    <script src="../_static/js/index.js"></script>
    <footer class="footer mt-5 mt-md-0">
  <div class="container">
    <p>
          &copy; Copyright 2019-2020 Unbabel. All rights reserved. Source code available under the AGPL-3.0..<br/>
        Created using <a href="http://sphinx-doc.org/">Sphinx</a> 3.2.1.<br/>
    </p>
  </div>
</footer>
  </body>
</html>