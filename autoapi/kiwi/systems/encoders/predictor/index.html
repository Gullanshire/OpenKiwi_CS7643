

<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>kiwi.systems.encoders.predictor &#8212; openkiwi 2.0.0 documentation</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/all.min.css" integrity="sha384-KA6wR/X5RY4zFAHpv/CnoG2UW1uogYfdnP67Uv7eULvTveboZJg0qUpmJZb5VqzN" crossorigin="anonymous">
    <link href="../../../../../_static/css/index.css" rel="stylesheet">
    <link rel="stylesheet" href="../../../../../_static/basic.css" type="text/css" />
    <link rel="stylesheet" href="../../../../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../../../../../_static/graphviz.css" />
    <script id="documentation_options" data-url_root="../../../../../" src="../../../../../_static/documentation_options.js"></script>
    <script src="../../../../../_static/jquery.js"></script>
    <script src="../../../../../_static/underscore.js"></script>
    <script src="../../../../../_static/doctools.js"></script>
    <script src="../../../../../_static/language_data.js"></script>
    <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="shortcut icon" href="../../../../../_static/openkiwi-logo-icon.ico"/>
    <link rel="index" title="Index" href="../../../../../genindex.html" />
    <link rel="search" title="Search" href="../../../../../search.html" />
    <link rel="next" title="kiwi.systems.encoders.quetch" href="../quetch/index.html" />
    <link rel="prev" title="kiwi.systems.encoders.bert" href="../bert/index.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="docsearch:language" content="en">
  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="80">
    
    <nav class="navbar navbar-light navbar-expand-lg bg-light fixed-top bd-navbar" id="navbar-main">
<div class="container-xl">

    
    <a class="navbar-brand" href="../../../../../index.html">
      <img src="../../../../../_static/openkiwi-logo-horizontal.svg" class="logo" alt="logo">
    </a>
    
    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-menu" aria-controls="navbar-menu" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar-menu" class="col-lg-9 collapse navbar-collapse">
      <ul id="navbar-main-elements" class="navbar-nav mr-auto">
        
        
        <li class="nav-item ">
            <a class="nav-link" href="../../../../../installation.html">Installation</a>
        </li>
        
        <li class="nav-item ">
            <a class="nav-link" href="../../../../../usage.html">Usage</a>
        </li>
        
        <li class="nav-item ">
            <a class="nav-link" href="../../../../../configuration/index.html">Configuration</a>
        </li>
        
        <li class="nav-item ">
            <a class="nav-link" href="../../../../../systems/index.html">Systems</a>
        </li>
        
        <li class="nav-item active">
            <a class="nav-link" href="../../../../index.html">API Reference</a>
        </li>
        
        
      </ul>


      

      <ul class="navbar-nav">
        
        
      </ul>
    </div>
</div>
    </nav>
    

    <div class="container-xl">
      <div class="row">
          
          <div class="col-12 col-md-3 bd-sidebar">

<form class="bd-search d-flex align-items-center" action="../../../../../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search the docs ..." aria-label="Search the docs ..." autocomplete="off" >
</form>


<nav class="bd-links" id="bd-docs-nav" aria-label="Main navigation">

  <div class="bd-toc-item active">
  

  <ul class="nav bd-sidenav">
      
      
      
      
      
      
      
      
      
      
        
          
              <li class="active">
                  <a href="../../../index.html">kiwi</a>
              </li>
          
        
      
      
    </ul>

</nav>
          </div>
          

          
          <div class="d-none d-xl-block col-xl-2 bd-toc">
              
<div class="tocsection onthispage pt-5 pb-3">
    <i class="fas fa-list"></i> On this page
</div>

<nav id="bd-toc-nav">
    <ul class="nav section-nav flex-column">
    
        <li class="nav-item toc-entry toc-h2">
            <a href="#module-contents" class="nav-link">Module Contents</a><ul class="nav section-nav flex-column">
                
        <li class="nav-item toc-entry toc-h3">
            <a href="#classes" class="nav-link">Classes</a><ul class="nav section-nav flex-column">
                
        <li class="nav-item toc-entry toc-h4">
            <a href="#kiwi.systems.encoders.predictor.logger" class="nav-link">logger</a>
        </li>
    
        <li class="nav-item toc-entry toc-h4">
            <a href="#kiwi.systems.encoders.predictor.DualSequencesEncoder" class="nav-link">DualSequencesEncoder</a><ul class="nav section-nav flex-column">
                
        <li class="nav-item toc-entry toc-h5">
            <a href="#kiwi.systems.encoders.predictor.DualSequencesEncoder.forward" class="nav-link">forward</a>
        </li>
    
        <li class="nav-item toc-entry toc-h5">
            <a href="#kiwi.systems.encoders.predictor.DualSequencesEncoder.contextualize_b" class="nav-link">contextualize_b</a>
        </li>
    
        <li class="nav-item toc-entry toc-h5">
            <a href="#kiwi.systems.encoders.predictor.DualSequencesEncoder.encode_b" class="nav-link">encode_b</a>
        </li>
    
        <li class="nav-item toc-entry toc-h5">
            <a href="#kiwi.systems.encoders.predictor.DualSequencesEncoder._reverse_padded_seq" class="nav-link">_reverse_padded_seq</a>
        </li>
    
        <li class="nav-item toc-entry toc-h5">
            <a href="#kiwi.systems.encoders.predictor.DualSequencesEncoder._split_hidden" class="nav-link">_split_hidden</a>
        </li>
    
            </ul>
        </li>
    
        <li class="nav-item toc-entry toc-h4">
            <a href="#kiwi.systems.encoders.predictor.PredictorEncoder" class="nav-link">PredictorEncoder</a><ul class="nav section-nav flex-column">
                
        <li class="nav-item toc-entry toc-h5">
            <a href="#kiwi.systems.encoders.predictor.PredictorEncoder.Config" class="nav-link">Config</a><ul class="nav section-nav flex-column">
                
        <li class="nav-item toc-entry toc-h6">
            <a href="#kiwi.systems.encoders.predictor.PredictorEncoder.Config.encode_source" class="nav-link">encode_source</a>
        </li>
    
        <li class="nav-item toc-entry toc-h6">
            <a href="#kiwi.systems.encoders.predictor.PredictorEncoder.Config.hidden_size" class="nav-link">hidden_size</a>
        </li>
    
        <li class="nav-item toc-entry toc-h6">
            <a href="#kiwi.systems.encoders.predictor.PredictorEncoder.Config.rnn_layers" class="nav-link">rnn_layers</a>
        </li>
    
        <li class="nav-item toc-entry toc-h6">
            <a href="#kiwi.systems.encoders.predictor.PredictorEncoder.Config.dropout" class="nav-link">dropout</a>
        </li>
    
        <li class="nav-item toc-entry toc-h6">
            <a href="#kiwi.systems.encoders.predictor.PredictorEncoder.Config.share_embeddings" class="nav-link">share_embeddings</a>
        </li>
    
        <li class="nav-item toc-entry toc-h6">
            <a href="#kiwi.systems.encoders.predictor.PredictorEncoder.Config.out_embeddings_dim" class="nav-link">out_embeddings_dim</a>
        </li>
    
        <li class="nav-item toc-entry toc-h6">
            <a href="#kiwi.systems.encoders.predictor.PredictorEncoder.Config.use_mismatch_features" class="nav-link">use_mismatch_features</a>
        </li>
    
        <li class="nav-item toc-entry toc-h6">
            <a href="#kiwi.systems.encoders.predictor.PredictorEncoder.Config.embeddings" class="nav-link">embeddings</a>
        </li>
    
        <li class="nav-item toc-entry toc-h6">
            <a href="#kiwi.systems.encoders.predictor.PredictorEncoder.Config.use_v0_buggy_strategy" class="nav-link">use_v0_buggy_strategy</a>
        </li>
    
        <li class="nav-item toc-entry toc-h6">
            <a href="#kiwi.systems.encoders.predictor.PredictorEncoder.Config.v0_start_stop" class="nav-link">v0_start_stop</a>
        </li>
    
        <li class="nav-item toc-entry toc-h6">
            <a href="#kiwi.systems.encoders.predictor.PredictorEncoder.Config.dropout_on_rnns" class="nav-link">dropout_on_rnns</a>
        </li>
    
        <li class="nav-item toc-entry toc-h6">
            <a href="#kiwi.systems.encoders.predictor.PredictorEncoder.Config.no_implementation" class="nav-link">no_implementation</a>
        </li>
    
            </ul>
        </li>
    
        <li class="nav-item toc-entry toc-h5">
            <a href="#kiwi.systems.encoders.predictor.PredictorEncoder.input_data_encoders" class="nav-link">input_data_encoders</a>
        </li>
    
        <li class="nav-item toc-entry toc-h5">
            <a href="#kiwi.systems.encoders.predictor.PredictorEncoder.size" class="nav-link">size</a>
        </li>
    
        <li class="nav-item toc-entry toc-h5">
            <a href="#kiwi.systems.encoders.predictor.PredictorEncoder.forward" class="nav-link">forward</a>
        </li>
    
            </ul>
        </li>
    
            </ul>
        </li>
    
            </ul>
        </li>
    
    </ul>
</nav>


              
          </div>
          

          
          <main class="col-12 col-md-9 col-xl-7 py-md-5 pl-md-5 pr-md-4 bd-content" role="main">
              
              <div>
                
  <div class="section" id="module-kiwi.systems.encoders.predictor">
<span id="kiwi-systems-encoders-predictor"></span><h1><a class="reference internal" href="#module-kiwi.systems.encoders.predictor" title="kiwi.systems.encoders.predictor"><code class="xref py py-mod docutils literal notranslate"><span class="pre">kiwi.systems.encoders.predictor</span></code></a><a class="headerlink" href="#module-kiwi.systems.encoders.predictor" title="Permalink to this headline">¶</a></h1>
<div class="section" id="module-contents">
<h2>Module Contents<a class="headerlink" href="#module-contents" title="Permalink to this headline">¶</a></h2>
<div class="section" id="classes">
<h3>Classes<a class="headerlink" href="#classes" title="Permalink to this headline">¶</a></h3>
<table class="longtable table">
<colgroup>
<col style="width: 10%" />
<col style="width: 90%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="#kiwi.systems.encoders.predictor.DualSequencesEncoder" title="kiwi.systems.encoders.predictor.DualSequencesEncoder"><code class="xref py py-obj docutils literal notranslate"><span class="pre">DualSequencesEncoder</span></code></a></p></td>
<td><p>Base class for all neural network modules.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#kiwi.systems.encoders.predictor.PredictorEncoder" title="kiwi.systems.encoders.predictor.PredictorEncoder"><code class="xref py py-obj docutils literal notranslate"><span class="pre">PredictorEncoder</span></code></a></p></td>
<td><p>Bidirectional Conditional Language Model</p></td>
</tr>
</tbody>
</table>
<dl class="py data">
<dt id="kiwi.systems.encoders.predictor.logger">
<code class="sig-prename descclassname">kiwi.systems.encoders.predictor.</code><code class="sig-name descname">logger</code><a class="headerlink" href="#kiwi.systems.encoders.predictor.logger" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py class">
<dt id="kiwi.systems.encoders.predictor.DualSequencesEncoder">
<em class="property">class </em><code class="sig-prename descclassname">kiwi.systems.encoders.predictor.</code><code class="sig-name descname">DualSequencesEncoder</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">input_size_a</span></em>, <em class="sig-param"><span class="n">input_size_b</span></em>, <em class="sig-param"><span class="n">hidden_size</span></em>, <em class="sig-param"><span class="n">output_size</span></em>, <em class="sig-param"><span class="n">num_layers</span></em>, <em class="sig-param"><span class="n">dropout</span></em>, <em class="sig-param"><span class="n">_use_v0_buggy_strategy</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="headerlink" href="#kiwi.systems.encoders.predictor.DualSequencesEncoder" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://pytorch.org/docs/master/generated/torch.nn.Module.html#torch.nn.Module" title="(in PyTorch vmaster (1.7.0a0+125df29 ))"><code class="xref py py-class docutils literal notranslate"><span class="pre">torch.nn.Module</span></code></a></p>
<p>Base class for all neural network modules.</p>
<p>Your models should also subclass this class.</p>
<p>Modules can also contain other Modules, allowing to nest them in
a tree structure. You can assign the submodules as regular attributes:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">torch.nn</span> <span class="k">as</span> <span class="nn">nn</span>
<span class="kn">import</span> <span class="nn">torch.nn.functional</span> <span class="k">as</span> <span class="nn">F</span>

<span class="k">class</span> <span class="nc">Model</span><span class="p">(</span><span class="n">nn</span><span class="o">.</span><span class="n">Module</span><span class="p">):</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">(</span><span class="n">Model</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="fm">__init__</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">conv1</span> <span class="o">=</span> <span class="n">nn</span><span class="o">.</span><span class="n">Conv2d</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">conv2</span> <span class="o">=</span> <span class="n">nn</span><span class="o">.</span><span class="n">Conv2d</span><span class="p">(</span><span class="mi">20</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">forward</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">):</span>
        <span class="n">x</span> <span class="o">=</span> <span class="n">F</span><span class="o">.</span><span class="n">relu</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">conv1</span><span class="p">(</span><span class="n">x</span><span class="p">))</span>
        <span class="k">return</span> <span class="n">F</span><span class="o">.</span><span class="n">relu</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">conv2</span><span class="p">(</span><span class="n">x</span><span class="p">))</span>
</pre></div>
</div>
<p>Submodules assigned in this way will be registered, and will have their
parameters converted too when you call <code class="xref py py-meth docutils literal notranslate"><span class="pre">to()</span></code>, etc.</p>
<dl class="py method">
<dt id="kiwi.systems.encoders.predictor.DualSequencesEncoder.forward">
<code class="sig-name descname">forward</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">self</span></em>, <em class="sig-param"><span class="n">embeddings_a</span></em>, <em class="sig-param"><span class="n">lengths_a</span></em>, <em class="sig-param"><span class="n">mask_a</span></em>, <em class="sig-param"><span class="n">embeddings_b</span></em>, <em class="sig-param"><span class="n">lengths_b</span></em><span class="sig-paren">)</span><a class="headerlink" href="#kiwi.systems.encoders.predictor.DualSequencesEncoder.forward" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="kiwi.systems.encoders.predictor.DualSequencesEncoder.contextualize_b">
<code class="sig-name descname">contextualize_b</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">self</span></em>, <em class="sig-param"><span class="n">embeddings</span></em>, <em class="sig-param"><span class="n">lengths</span></em>, <em class="sig-param"><span class="n">hidden</span></em><span class="sig-paren">)</span><a class="headerlink" href="#kiwi.systems.encoders.predictor.DualSequencesEncoder.contextualize_b" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="kiwi.systems.encoders.predictor.DualSequencesEncoder.encode_b">
<code class="sig-name descname">encode_b</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">self</span></em>, <em class="sig-param"><span class="n">embeddings</span></em>, <em class="sig-param"><span class="n">forward_contexts</span></em>, <em class="sig-param"><span class="n">backward_contexts</span></em>, <em class="sig-param"><span class="n">contexts_a</span></em>, <em class="sig-param"><span class="n">attention_mask</span></em><span class="sig-paren">)</span><a class="headerlink" href="#kiwi.systems.encoders.predictor.DualSequencesEncoder.encode_b" title="Permalink to this definition">¶</a></dt>
<dd><p>Encode sequence B.</p>
<p>Build a feature vector for each position i using left context i-1 and right
context i+1. In the original implementation, this resulted in a returned tensor
with -2 timesteps (dim=1). We have now changed it to return the same number
of timesteps as the input. The consequence is that callers now have to deal
with BOS and EOS in a different way, but hopefully this new behaviour is more
consistent and less surprising. The old behaviour can be forced by setting
<code class="docutils literal notranslate"><span class="pre">self._use_v0_buggy_strategy</span></code> to True.</p>
</dd></dl>

<dl class="py method">
<dt id="kiwi.systems.encoders.predictor.DualSequencesEncoder._reverse_padded_seq">
<em class="property">static </em><code class="sig-name descname">_reverse_padded_seq</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">lengths</span></em>, <em class="sig-param"><span class="n">sequence</span></em><span class="sig-paren">)</span><a class="headerlink" href="#kiwi.systems.encoders.predictor.DualSequencesEncoder._reverse_padded_seq" title="Permalink to this definition">¶</a></dt>
<dd><p>Reverse a batch of padded sequences of different length.</p>
</dd></dl>

<dl class="py method">
<dt id="kiwi.systems.encoders.predictor.DualSequencesEncoder._split_hidden">
<em class="property">static </em><code class="sig-name descname">_split_hidden</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">hidden</span></em><span class="sig-paren">)</span><a class="headerlink" href="#kiwi.systems.encoders.predictor.DualSequencesEncoder._split_hidden" title="Permalink to this definition">¶</a></dt>
<dd><p>Split hidden state into forward/backward parts.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="kiwi.systems.encoders.predictor.PredictorEncoder">
<em class="property">class </em><code class="sig-prename descclassname">kiwi.systems.encoders.predictor.</code><code class="sig-name descname">PredictorEncoder</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">vocabs</span><span class="p">:</span> <span class="n">Dict<span class="p">[</span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.8)">str</a><span class="p">, </span>Vocabulary<span class="p">]</span></span></em>, <em class="sig-param"><span class="n">config</span><span class="p">:</span> <span class="n">Config</span></em>, <em class="sig-param"><span class="n">pretraining</span><span class="p">:</span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.8)">bool</a></span> <span class="o">=</span> <span class="default_value">False</span></em>, <em class="sig-param"><span class="n">pre_load_model</span><span class="p">:</span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.8)">bool</a></span> <span class="o">=</span> <span class="default_value">True</span></em><span class="sig-paren">)</span><a class="headerlink" href="#kiwi.systems.encoders.predictor.PredictorEncoder" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="../../_meta_module/index.html#kiwi.systems._meta_module.MetaModule" title="kiwi.systems._meta_module.MetaModule"><code class="xref py py-class docutils literal notranslate"><span class="pre">kiwi.systems._meta_module.MetaModule</span></code></a></p>
<p>Bidirectional Conditional Language Model</p>
<p>Implemented after Kim et al 2017, see: <a class="reference external" href="http://www.statmt.org/wmt17/pdf/WMT63.pdf">http://www.statmt.org/wmt17/pdf/WMT63.pdf</a></p>
<dl class="py class">
<dt id="kiwi.systems.encoders.predictor.PredictorEncoder.Config">
<em class="property">class </em><code class="sig-name descname">Config</code><a class="headerlink" href="#kiwi.systems.encoders.predictor.PredictorEncoder.Config" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="../../../utils/io/index.html#kiwi.utils.io.BaseConfig" title="kiwi.utils.io.BaseConfig"><code class="xref py py-class docutils literal notranslate"><span class="pre">kiwi.utils.io.BaseConfig</span></code></a></p>
<p>Base class for all pydantic configs. Used to configure base behaviour of configs.</p>
<dl class="py attribute">
<dt id="kiwi.systems.encoders.predictor.PredictorEncoder.Config.encode_source">
<code class="sig-name descname">encode_source</code><em class="property"> :bool = False</em><a class="headerlink" href="#kiwi.systems.encoders.predictor.PredictorEncoder.Config.encode_source" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt id="kiwi.systems.encoders.predictor.PredictorEncoder.Config.hidden_size">
<code class="sig-name descname">hidden_size</code><em class="property"> :int = 400</em><a class="headerlink" href="#kiwi.systems.encoders.predictor.PredictorEncoder.Config.hidden_size" title="Permalink to this definition">¶</a></dt>
<dd><p>Size of hidden layers in LSTM</p>
</dd></dl>

<dl class="py attribute">
<dt id="kiwi.systems.encoders.predictor.PredictorEncoder.Config.rnn_layers">
<code class="sig-name descname">rnn_layers</code><em class="property"> :int = 3</em><a class="headerlink" href="#kiwi.systems.encoders.predictor.PredictorEncoder.Config.rnn_layers" title="Permalink to this definition">¶</a></dt>
<dd><p>Number of RNN layers in the Predictor</p>
</dd></dl>

<dl class="py attribute">
<dt id="kiwi.systems.encoders.predictor.PredictorEncoder.Config.dropout">
<code class="sig-name descname">dropout</code><em class="property"> :float = 0.0</em><a class="headerlink" href="#kiwi.systems.encoders.predictor.PredictorEncoder.Config.dropout" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt id="kiwi.systems.encoders.predictor.PredictorEncoder.Config.share_embeddings">
<code class="sig-name descname">share_embeddings</code><em class="property"> :bool = False</em><a class="headerlink" href="#kiwi.systems.encoders.predictor.PredictorEncoder.Config.share_embeddings" title="Permalink to this definition">¶</a></dt>
<dd><p>Tie input and output embeddings for target.</p>
</dd></dl>

<dl class="py attribute">
<dt id="kiwi.systems.encoders.predictor.PredictorEncoder.Config.out_embeddings_dim">
<code class="sig-name descname">out_embeddings_dim</code><em class="property"> :Optional[int]</em><a class="headerlink" href="#kiwi.systems.encoders.predictor.PredictorEncoder.Config.out_embeddings_dim" title="Permalink to this definition">¶</a></dt>
<dd><p>Word Embedding in Output layer</p>
</dd></dl>

<dl class="py attribute">
<dt id="kiwi.systems.encoders.predictor.PredictorEncoder.Config.use_mismatch_features">
<code class="sig-name descname">use_mismatch_features</code><em class="property"> :bool = False</em><a class="headerlink" href="#kiwi.systems.encoders.predictor.PredictorEncoder.Config.use_mismatch_features" title="Permalink to this definition">¶</a></dt>
<dd><p>Whether to use Alibaba’s mismatch features.</p>
</dd></dl>

<dl class="py attribute">
<dt id="kiwi.systems.encoders.predictor.PredictorEncoder.Config.embeddings">
<code class="sig-name descname">embeddings</code><em class="property"> :InputEmbeddingsConfig</em><a class="headerlink" href="#kiwi.systems.encoders.predictor.PredictorEncoder.Config.embeddings" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt id="kiwi.systems.encoders.predictor.PredictorEncoder.Config.use_v0_buggy_strategy">
<code class="sig-name descname">use_v0_buggy_strategy</code><em class="property"> :bool = False</em><a class="headerlink" href="#kiwi.systems.encoders.predictor.PredictorEncoder.Config.use_v0_buggy_strategy" title="Permalink to this definition">¶</a></dt>
<dd><p>The Predictor implementation in Kiwi&lt;=0.3.4 had a bug in applying the LSTM
to encode source (it used lengths too short by 2) and in reversing the target
embeddings for applying the backward LSTM (also short by 2). This flag is set
to true when loading a saved model from those versions.</p>
</dd></dl>

<dl class="py attribute">
<dt id="kiwi.systems.encoders.predictor.PredictorEncoder.Config.v0_start_stop">
<code class="sig-name descname">v0_start_stop</code><em class="property"> :bool = False</em><a class="headerlink" href="#kiwi.systems.encoders.predictor.PredictorEncoder.Config.v0_start_stop" title="Permalink to this definition">¶</a></dt>
<dd><p>Whether pre_qe_f_v is padded on both ends or post_qe_f_v is strip on both ends</p>
</dd></dl>

<dl class="py method">
<dt id="kiwi.systems.encoders.predictor.PredictorEncoder.Config.dropout_on_rnns">
<code class="sig-name descname">dropout_on_rnns</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cls</span></em>, <em class="sig-param"><span class="n">v</span></em>, <em class="sig-param"><span class="n">values</span></em><span class="sig-paren">)</span><a class="headerlink" href="#kiwi.systems.encoders.predictor.PredictorEncoder.Config.dropout_on_rnns" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="kiwi.systems.encoders.predictor.PredictorEncoder.Config.no_implementation">
<code class="sig-name descname">no_implementation</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cls</span></em>, <em class="sig-param"><span class="n">v</span></em><span class="sig-paren">)</span><a class="headerlink" href="#kiwi.systems.encoders.predictor.PredictorEncoder.Config.no_implementation" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py method">
<dt id="kiwi.systems.encoders.predictor.PredictorEncoder.input_data_encoders">
<em class="property">classmethod </em><code class="sig-name descname">input_data_encoders</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cls</span></em>, <em class="sig-param"><span class="n">config</span><span class="p">:</span> <span class="n"><a class="reference internal" href="#kiwi.systems.encoders.predictor.PredictorEncoder.Config" title="kiwi.systems.encoders.predictor.PredictorEncoder.Config">Config</a></span></em><span class="sig-paren">)</span><a class="headerlink" href="#kiwi.systems.encoders.predictor.PredictorEncoder.input_data_encoders" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="kiwi.systems.encoders.predictor.PredictorEncoder.size">
<code class="sig-name descname">size</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">self</span></em>, <em class="sig-param"><span class="n">field</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#kiwi.systems.encoders.predictor.PredictorEncoder.size" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="kiwi.systems.encoders.predictor.PredictorEncoder.forward">
<code class="sig-name descname">forward</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">self</span></em>, <em class="sig-param"><span class="n">batch_inputs</span></em>, <em class="sig-param"><span class="n">include_target_logits</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="headerlink" href="#kiwi.systems.encoders.predictor.PredictorEncoder.forward" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</div>
</div>
</div>


              </div>
              
              
              <div class='prev-next-bottom'>
                
    <a class='left-prev' id="prev-link" href="../bert/index.html" title="previous page"><code class="xref py py-mod docutils literal notranslate"><span class="pre">kiwi.systems.encoders.bert</span></code></a>
    <a class='right-next' id="next-link" href="../quetch/index.html" title="next page"><code class="xref py py-mod docutils literal notranslate"><span class="pre">kiwi.systems.encoders.quetch</span></code></a>

              </div>
              
          </main>
          

      </div>
    </div>

    <script src="../../../../../_static/js/index.js"></script>
    <footer class="footer mt-5 mt-md-0">
  <div class="container">
    <p>
          &copy; Copyright 2019-2020 Unbabel. All rights reserved. Source code available under the AGPL-3.0..<br/>
        Created using <a href="http://sphinx-doc.org/">Sphinx</a> 3.2.1.<br/>
    </p>
  </div>
</footer>
  </body>
</html>