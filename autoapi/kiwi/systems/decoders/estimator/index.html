

<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>kiwi.systems.decoders.estimator &#8212; openkiwi 2.1.0 documentation</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/all.min.css" integrity="sha384-KA6wR/X5RY4zFAHpv/CnoG2UW1uogYfdnP67Uv7eULvTveboZJg0qUpmJZb5VqzN" crossorigin="anonymous">
    <link href="../../../../../_static/css/index.css" rel="stylesheet">
    <link rel="stylesheet" href="../../../../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../../../../../_static/basic.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../../../../../_static/graphviz.css" />
    <script id="documentation_options" data-url_root="../../../../../" src="../../../../../_static/documentation_options.js"></script>
    <script src="../../../../../_static/jquery.js"></script>
    <script src="../../../../../_static/underscore.js"></script>
    <script src="../../../../../_static/doctools.js"></script>
    <script src="../../../../../_static/language_data.js"></script>
    <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="shortcut icon" href="../../../../../_static/openkiwi-logo-icon.ico"/>
    <link rel="index" title="Index" href="../../../../../genindex.html" />
    <link rel="search" title="Search" href="../../../../../search.html" />
    <link rel="next" title="kiwi.systems.decoders.linear" href="../linear/index.html" />
    <link rel="prev" title="kiwi.systems.decoders" href="../index.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="docsearch:language" content="en">
  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="80">
    
    <nav class="navbar navbar-light navbar-expand-lg bg-light fixed-top bd-navbar" id="navbar-main">
<div class="container-xl">

    
    <a class="navbar-brand" href="../../../../../index.html">
      <img src="../../../../../_static/openkiwi-logo-horizontal.svg" class="logo" alt="logo">
    </a>
    
    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-menu" aria-controls="navbar-menu" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar-menu" class="col-lg-9 collapse navbar-collapse">
      <ul id="navbar-main-elements" class="navbar-nav mr-auto">
        
        
        <li class="nav-item ">
            <a class="nav-link" href="../../../../../installation.html">Installation</a>
        </li>
        
        <li class="nav-item ">
            <a class="nav-link" href="../../../../../usage.html">Usage</a>
        </li>
        
        <li class="nav-item ">
            <a class="nav-link" href="../../../../../configuration/index.html">Configuration</a>
        </li>
        
        <li class="nav-item ">
            <a class="nav-link" href="../../../../../systems/index.html">Systems</a>
        </li>
        
        <li class="nav-item active">
            <a class="nav-link" href="../../../../index.html">API Reference</a>
        </li>
        
        
      </ul>


      

      <ul class="navbar-nav">
        
        
      </ul>
    </div>
</div>
    </nav>
    

    <div class="container-xl">
      <div class="row">
          
          <div class="col-12 col-md-3 bd-sidebar">

<form class="bd-search d-flex align-items-center" action="../../../../../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search the docs ..." aria-label="Search the docs ..." autocomplete="off" >
</form>


<nav class="bd-links" id="bd-docs-nav" aria-label="Main navigation">

  <div class="bd-toc-item active">
  

  <ul class="nav bd-sidenav">
      
      
      
      
      
      
      
      
      
      
        
          
              <li class="active">
                  <a href="../../../index.html">kiwi</a>
              </li>
          
        
      
      
    </ul>

</nav>
          </div>
          

          
          <div class="d-none d-xl-block col-xl-2 bd-toc">
              
<div class="tocsection onthispage pt-5 pb-3">
    <i class="fas fa-list"></i> On this page
</div>

<nav id="bd-toc-nav">
    <ul class="nav section-nav flex-column">
    
        <li class="nav-item toc-entry toc-h2">
            <a href="#module-contents" class="nav-link">Module Contents</a><ul class="nav section-nav flex-column">
                
        <li class="nav-item toc-entry toc-h3">
            <a href="#classes" class="nav-link">Classes</a><ul class="nav section-nav flex-column">
                
        <li class="nav-item toc-entry toc-h4">
            <a href="#kiwi.systems.decoders.estimator.logger" class="nav-link">logger</a>
        </li>
    
        <li class="nav-item toc-entry toc-h4">
            <a href="#kiwi.systems.decoders.estimator.EstimatorDecoder" class="nav-link">EstimatorDecoder</a><ul class="nav section-nav flex-column">
                
        <li class="nav-item toc-entry toc-h5">
            <a href="#kiwi.systems.decoders.estimator.EstimatorDecoder.Config" class="nav-link">Config</a><ul class="nav section-nav flex-column">
                
        <li class="nav-item toc-entry toc-h6">
            <a href="#kiwi.systems.decoders.estimator.EstimatorDecoder.Config.hidden_size" class="nav-link">hidden_size</a>
        </li>
    
        <li class="nav-item toc-entry toc-h6">
            <a href="#kiwi.systems.decoders.estimator.EstimatorDecoder.Config.rnn_layers" class="nav-link">rnn_layers</a>
        </li>
    
        <li class="nav-item toc-entry toc-h6">
            <a href="#kiwi.systems.decoders.estimator.EstimatorDecoder.Config.use_mlp" class="nav-link">use_mlp</a>
        </li>
    
        <li class="nav-item toc-entry toc-h6">
            <a href="#kiwi.systems.decoders.estimator.EstimatorDecoder.Config.dropout" class="nav-link">dropout</a>
        </li>
    
        <li class="nav-item toc-entry toc-h6">
            <a href="#kiwi.systems.decoders.estimator.EstimatorDecoder.Config.use_v0_buggy_strategy" class="nav-link">use_v0_buggy_strategy</a>
        </li>
    
        <li class="nav-item toc-entry toc-h6">
            <a href="#kiwi.systems.decoders.estimator.EstimatorDecoder.Config.dropout_on_rnns" class="nav-link">dropout_on_rnns</a>
        </li>
    
            </ul>
        </li>
    
        <li class="nav-item toc-entry toc-h5">
            <a href="#kiwi.systems.decoders.estimator.EstimatorDecoder.size" class="nav-link">size</a>
        </li>
    
        <li class="nav-item toc-entry toc-h5">
            <a href="#kiwi.systems.decoders.estimator.EstimatorDecoder.forward" class="nav-link">forward</a>
        </li>
    
            </ul>
        </li>
    
            </ul>
        </li>
    
            </ul>
        </li>
    
    </ul>
</nav>


              
          </div>
          

          
          <main class="col-12 col-md-9 col-xl-7 py-md-5 pl-md-5 pr-md-4 bd-content" role="main">
              
              <div>
                
  <div class="section" id="module-kiwi.systems.decoders.estimator">
<span id="kiwi-systems-decoders-estimator"></span><h1><a class="reference internal" href="#module-kiwi.systems.decoders.estimator" title="kiwi.systems.decoders.estimator"><code class="xref py py-mod docutils literal notranslate"><span class="pre">kiwi.systems.decoders.estimator</span></code></a><a class="headerlink" href="#module-kiwi.systems.decoders.estimator" title="Permalink to this headline">¶</a></h1>
<div class="section" id="module-contents">
<h2>Module Contents<a class="headerlink" href="#module-contents" title="Permalink to this headline">¶</a></h2>
<div class="section" id="classes">
<h3>Classes<a class="headerlink" href="#classes" title="Permalink to this headline">¶</a></h3>
<table class="longtable table">
<colgroup>
<col style="width: 10%" />
<col style="width: 90%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="#kiwi.systems.decoders.estimator.EstimatorDecoder" title="kiwi.systems.decoders.estimator.EstimatorDecoder"><code class="xref py py-obj docutils literal notranslate"><span class="pre">EstimatorDecoder</span></code></a></p></td>
<td><p>Base class for all neural network modules.</p></td>
</tr>
</tbody>
</table>
<dl class="py data">
<dt id="kiwi.systems.decoders.estimator.logger">
<code class="sig-prename descclassname">kiwi.systems.decoders.estimator.</code><code class="sig-name descname">logger</code><a class="headerlink" href="#kiwi.systems.decoders.estimator.logger" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py class">
<dt id="kiwi.systems.decoders.estimator.EstimatorDecoder">
<em class="property">class </em><code class="sig-prename descclassname">kiwi.systems.decoders.estimator.</code><code class="sig-name descname">EstimatorDecoder</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">inputs_dims</span></em>, <em class="sig-param"><span class="n">config</span></em><span class="sig-paren">)</span><a class="headerlink" href="#kiwi.systems.decoders.estimator.EstimatorDecoder" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="../../_meta_module/index.html#kiwi.systems._meta_module.MetaModule" title="kiwi.systems._meta_module.MetaModule"><code class="xref py py-class docutils literal notranslate"><span class="pre">kiwi.systems._meta_module.MetaModule</span></code></a></p>
<p>Base class for all neural network modules.</p>
<p>Your models should also subclass this class.</p>
<p>Modules can also contain other Modules, allowing to nest them in
a tree structure. You can assign the submodules as regular attributes:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">torch.nn</span> <span class="k">as</span> <span class="nn">nn</span>
<span class="kn">import</span> <span class="nn">torch.nn.functional</span> <span class="k">as</span> <span class="nn">F</span>

<span class="k">class</span> <span class="nc">Model</span><span class="p">(</span><span class="n">nn</span><span class="o">.</span><span class="n">Module</span><span class="p">):</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">(</span><span class="n">Model</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="fm">__init__</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">conv1</span> <span class="o">=</span> <span class="n">nn</span><span class="o">.</span><span class="n">Conv2d</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">conv2</span> <span class="o">=</span> <span class="n">nn</span><span class="o">.</span><span class="n">Conv2d</span><span class="p">(</span><span class="mi">20</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">forward</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">):</span>
        <span class="n">x</span> <span class="o">=</span> <span class="n">F</span><span class="o">.</span><span class="n">relu</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">conv1</span><span class="p">(</span><span class="n">x</span><span class="p">))</span>
        <span class="k">return</span> <span class="n">F</span><span class="o">.</span><span class="n">relu</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">conv2</span><span class="p">(</span><span class="n">x</span><span class="p">))</span>
</pre></div>
</div>
<p>Submodules assigned in this way will be registered, and will have their
parameters converted too when you call <code class="xref py py-meth docutils literal notranslate"><span class="pre">to()</span></code>, etc.</p>
<dl class="py class">
<dt id="kiwi.systems.decoders.estimator.EstimatorDecoder.Config">
<em class="property">class </em><code class="sig-name descname">Config</code><a class="headerlink" href="#kiwi.systems.decoders.estimator.EstimatorDecoder.Config" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="../../../utils/io/index.html#kiwi.utils.io.BaseConfig" title="kiwi.utils.io.BaseConfig"><code class="xref py py-class docutils literal notranslate"><span class="pre">kiwi.utils.io.BaseConfig</span></code></a></p>
<p>Base class for all pydantic configs. Used to configure base behaviour of configs.</p>
<dl class="py attribute">
<dt id="kiwi.systems.decoders.estimator.EstimatorDecoder.Config.hidden_size">
<code class="sig-name descname">hidden_size</code><em class="property"> :int = 100</em><a class="headerlink" href="#kiwi.systems.decoders.estimator.EstimatorDecoder.Config.hidden_size" title="Permalink to this definition">¶</a></dt>
<dd><p>Size of hidden layers in LSTM</p>
</dd></dl>

<dl class="py attribute">
<dt id="kiwi.systems.decoders.estimator.EstimatorDecoder.Config.rnn_layers">
<code class="sig-name descname">rnn_layers</code><em class="property"> :PositiveInt = 1</em><a class="headerlink" href="#kiwi.systems.decoders.estimator.EstimatorDecoder.Config.rnn_layers" title="Permalink to this definition">¶</a></dt>
<dd><p>Layers in PredictorEstimator RNN</p>
</dd></dl>

<dl class="py attribute">
<dt id="kiwi.systems.decoders.estimator.EstimatorDecoder.Config.use_mlp">
<code class="sig-name descname">use_mlp</code><em class="property"> :bool = True</em><a class="headerlink" href="#kiwi.systems.decoders.estimator.EstimatorDecoder.Config.use_mlp" title="Permalink to this definition">¶</a></dt>
<dd><p>Pass the PredictorEstimator input through a linear layer reducing
dimensionality before RNN.</p>
</dd></dl>

<dl class="py attribute">
<dt id="kiwi.systems.decoders.estimator.EstimatorDecoder.Config.dropout">
<code class="sig-name descname">dropout</code><em class="property"> :confloat(ge=0.0, le=1.0) = 0.0</em><a class="headerlink" href="#kiwi.systems.decoders.estimator.EstimatorDecoder.Config.dropout" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt id="kiwi.systems.decoders.estimator.EstimatorDecoder.Config.use_v0_buggy_strategy">
<code class="sig-name descname">use_v0_buggy_strategy</code><em class="property"> :bool = False</em><a class="headerlink" href="#kiwi.systems.decoders.estimator.EstimatorDecoder.Config.use_v0_buggy_strategy" title="Permalink to this definition">¶</a></dt>
<dd><p>The Predictor implementation in Kiwi&lt;=0.3.4 had a bug in applying the LSTM
to encode source (it used lengths too short by 2) and in reversing the target
embeddings for applying the backward LSTM (also short by 2). This flag is set
to true when loading a saved model from those versions.</p>
</dd></dl>

<dl class="py method">
<dt id="kiwi.systems.decoders.estimator.EstimatorDecoder.Config.dropout_on_rnns">
<code class="sig-name descname">dropout_on_rnns</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cls</span></em>, <em class="sig-param"><span class="n">v</span></em>, <em class="sig-param"><span class="n">values</span></em><span class="sig-paren">)</span><a class="headerlink" href="#kiwi.systems.decoders.estimator.EstimatorDecoder.Config.dropout_on_rnns" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py method">
<dt id="kiwi.systems.decoders.estimator.EstimatorDecoder.size">
<code class="sig-name descname">size</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">self</span></em>, <em class="sig-param"><span class="n">field</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#kiwi.systems.decoders.estimator.EstimatorDecoder.size" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="kiwi.systems.decoders.estimator.EstimatorDecoder.forward">
<code class="sig-name descname">forward</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">self</span></em>, <em class="sig-param"><span class="n">features</span></em>, <em class="sig-param"><span class="n">batch_inputs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#kiwi.systems.decoders.estimator.EstimatorDecoder.forward" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</div>
</div>
</div>


              </div>
              
              
              <div class='prev-next-bottom'>
                
    <a class='left-prev' id="prev-link" href="../index.html" title="previous page"><code class="xref py py-mod docutils literal notranslate"><span class="pre">kiwi.systems.decoders</span></code></a>
    <a class='right-next' id="next-link" href="../linear/index.html" title="next page"><code class="xref py py-mod docutils literal notranslate"><span class="pre">kiwi.systems.decoders.linear</span></code></a>

              </div>
              
          </main>
          

      </div>
    </div>

    <script src="../../../../../_static/js/index.js"></script>
    <footer class="footer mt-5 mt-md-0">
  <div class="container">
    <p>
          &copy; Copyright 2019-2020 Unbabel. All rights reserved. Source code available under the AGPL-3.0..<br/>
        Created using <a href="http://sphinx-doc.org/">Sphinx</a> 3.3.1.<br/>
    </p>
  </div>
</footer>
  </body>
</html>